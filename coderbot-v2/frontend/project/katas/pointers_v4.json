{
  "title": "V4",
  "content": "Bitcoin represents a number of Bitcoins.",
  "correct_code": "package main\n\nimport (\n\t\"errors\"\n\t\"fmt\"\n)\n\n// Bitcoin represents a number of Bitcoins.\ntype Bitcoin int\n\nfunc (b Bitcoin) String() string {\n\treturn fmt.Sprintf(\"%d BTC\", b)\n}\n\n// Wallet stores the number of Bitcoin someone owns.\ntype Wallet struct {\n\tbalance Bitcoin\n}\n\n// Deposit will add some Bitcoin to a wallet.\nfunc (w *Wallet) Deposit(amount Bitcoin) {\n\tw.balance += amount\n}\n\n// ErrInsufficientFunds means a wallet does not have enough Bitcoin to perform a withdraw.\nvar ErrInsufficientFunds = errors.New(\"cannot withdraw, insufficient funds\")\n\n// Withdraw subtracts some Bitcoin from the wallet, returning an error if it cannot be performed.\nfunc (w *Wallet) Withdraw(amount Bitcoin) error {\n\n\tif amount > w.balance {\n\t\treturn ErrInsufficientFunds\n\t}\n\n\tw.balance -= amount\n\treturn nil\n}\n\n// Balance returns the number of Bitcoin a wallet has.\nfunc (w *Wallet) Balance() Bitcoin {\n\treturn w.balance\n}",
  "test_code": "package main\n\nimport (\n\t\"testing\"\n)\n\nfunc TestWallet(t *testing.T) {\n\n\tt.Run(\"deposit\", func(t *testing.T) {\n\t\twallet := Wallet{}\n\t\twallet.Deposit(Bitcoin(10))\n\n\t\tassertBalance(t, wallet, Bitcoin(10))\n\t})\n\n\tt.Run(\"withdraw with funds\", func(t *testing.T) {\n\t\twallet := Wallet{Bitcoin(20)}\n\t\terr := wallet.Withdraw(Bitcoin(10))\n\n\t\tassertBalance(t, wallet, Bitcoin(10))\n\t\tassertNoError(t, err)\n\t})\n\n\tt.Run(\"withdraw insufficient funds\", func(t *testing.T) {\n\t\tstartingBalance := Bitcoin(20)\n\t\twallet := Wallet{startingBalance}\n\t\terr := wallet.Withdraw(Bitcoin(100))\n\n\t\tassertBalance(t, wallet, startingBalance)\n\t\tassertError(t, err, ErrInsufficientFunds)\n\t})\n}\n\nfunc assertBalance(t testing.TB, wallet Wallet, want Bitcoin) {\n\tt.Helper()\n\tgot := wallet.Balance()\n\n\tif got != want {\n\t\tt.Errorf(\"got %q want %q\", got, want)\n\t}\n}\n\nfunc assertNoError(t testing.TB, got error) {\n\tt.Helper()\n\tif got != nil {\n\t\tt.Fatal(\"got an error but didn't want one\")\n\t}\n}\n\nfunc assertError(t testing.TB, got, want error) {\n\tt.Helper()\n\tif got == nil {\n\t\tt.Fatal(\"didn't get an error but wanted one\")\n\t}\n\n\tif got != want {\n\t\tt.Errorf(\"got %q, want %q\", got, want)\n\t}\n}",
  "difficulty": "Intermedi√°rio"
}